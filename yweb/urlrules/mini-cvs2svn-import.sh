rm -f Log*; cvs log -N -d '2009-04-05<2011-12-31' * >Log; gawk -vP=0 '$1=="Working"&&$2=="file:"{f=$3;next} $1=="revision"{r=$2;next} $1=="date:"{m=$1" "$2" "$3" "$4" "$5;gsub("[/]", ".", $2); gsub(":", ".", $3); gsub(";", "", $3); fn="Log."$2"."$3; print "[CVS "f" "r"]",$4,$5,$8,$9,$10 >>fn".h";close(fn".h");P=1;print m"\n" >fn; next} P&&($1=="----------------------------"||$1=="============================================================================="){P=0; close(fn)} P{print >fn}' Log; for f in *.h; do t=${f%%.h}; d=${t##Log.}; cat $t >>$f; rm $t; cvs up -D $d; svn ci -F $f; rm $f; done
