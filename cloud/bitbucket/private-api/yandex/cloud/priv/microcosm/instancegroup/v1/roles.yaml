role_groups:
  instance-group:
    name: Instance Groups roles

roles:

  ##############################################################################
  # Public Roles
  ##############################################################################

  compute.instanceGroups.viewer:
    groups: [instance-group]
    name: Instance group viewer
    visibility: public
    description: 'доступ к функциям просмотра Instance Groups'
    permissions:
      - compute.instanceGroups.{get,list,listAccessBindings}

  compute.instanceGroups.editor:
    groups: [instance-group]
    name: Instance group editor
    visibility: public
    description: 'доступ к функциям редактирования Instance Groups'
    includedRoles:
      - compute.instanceGroups.viewer
    permissions:
      - compute.instanceGroups.{create,delete,update,stop,start,use}

  compute.instanceGroups.admin:
    groups: [instance-group]
    name: Instance group administator
    visibility: public
    description: 'доступ к функциям администрирования Instance Groups'
    includedRoles:
      - compute.instanceGroups.editor
    permissions:
      - compute.instanceGroups.{updateAccessBindings,listAccessBindings}


  ##############################################################################
  # Support Roles
  ##############################################################################

  compute.instanceGroups.support:
    groups: [instance-group, staff]
    name: Support IG
    visibility: internal
    description: Role for support engineers to see instance-groups
    permissions:
      - compute.instanceGroups.{get,list,listAccessBindings}

  compute.instanceGroups.supportAdmin:
    groups: [instance-group, staff]
    name: Support IG Admin
    visibility: internal
    description: Privileged Operations in IG for support engineers
    includedRoles:
      - compute.instanceGroups.support
    permissions: []

  ##############################################################################
  # On-call Roles
  ##############################################################################

  compute.instanceGroups.onCall:
    groups: [instance-group, staff]
    name: On-call IG
    visibility: internal
    description: Role for IG on-call engineers to see access bindings and premissions
    includedRoles:
      - onCall
      - compute.instanceGroups.viewer
      - compute.viewer
      - load-balancer.viewer
      - alb.viewer
      - vpc.viewer

  compute.instanceGroups.onCallAdmin:
    groups: [instance-group, staff]
    name: On-call IG Admin
    visibility: internal
    description: Privileged Operations in IG for on-call engineers
    includedRoles:
      - compute.instanceGroups.onCall
    permissions:
      - compute.instanceGroups.{stop,start,delete,update}

  ##############################################################################
  # Internal Roles
  ##############################################################################

  internal.instanceGroups.agent:
    groups: [instance-group]
    name: (Внутренняя) Агент InstanceGroup
    visibility: internal
    description: 'Роль для служебных аккаунтов сервиса Instance Groups'
    includedRoles:
      - internal.hcaas.editor.pseudo
      - compute.viewer
      - vpc.viewer
      - load-balancer.viewer
      - alb.viewer.pseudo
    permissions:
      - iam.folders.get
      - iam.serviceAccounts.issueToken
      - resource-manager.folders.get
