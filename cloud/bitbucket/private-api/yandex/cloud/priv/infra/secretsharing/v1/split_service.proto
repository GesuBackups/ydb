syntax = "proto3";

package yandex.cloud.priv.infra.secretsharing.v1;

option go_package = "a.yandex-team.ru/cloud/bitbucket/private-api/yandex/cloud/priv/infra/secretsharing/v1;secretsharing";
option java_outer_classname = "PSSSS";

import "yandex/cloud/priv/infra/secretsharing/v1/process.proto";

service SplitService {
    rpc PushUserPublicKey (PushUserPublicKeyRequest) returns (PushUserPublicKeyResponse) {}
    rpc GetSecretPart (GetSecretPartRequest) returns (GetSecretPartResponse) {}
}

message PushUserPublicKeyRequest {
    string user = 1;
    string public_key = 2;
}

message PushUserPublicKeyResponse {
    string part_id = 1;
}

message GetSecretPartRequest {
    string part_id = 1;
}

message GetSecretPartResponse {
    string part_id = 1;
    ProcessStatus current_status = 2;
    Result result = 3;
}
