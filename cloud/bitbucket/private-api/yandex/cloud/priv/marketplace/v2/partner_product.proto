syntax = "proto3";

package yandex.cloud.priv.marketplace.v2;

import "google/protobuf/timestamp.proto";
import "yandex/cloud/priv/marketplace/v2/i18n.proto";
import "yandex/cloud/priv/marketplace/v2/common.proto";
import "yandex/cloud/priv/marketplace/v2/partner.proto";

option go_package = "a.yandex-team.ru/cloud/bitbucket/private-api/yandex/cloud/priv/marketplace/v2;marketplace";
option java_outer_classname = "PMPRP";

// Public entity representing partner product
// Fields numbering is same as in Product
message PartnerProduct {
    string id = 1;
    string name = 2;
    string version_id = 3;
    string partner_id = 4;
    google.protobuf.Timestamp created_at = 5;
    google.protobuf.Timestamp updated_at = 6;
    State state = 7;

    MarketingInfo marketing_info = 9;
    repeated string regions = 11;
    repeated string services = 12;
    repeated string use_cases = 13;
    repeated string industries = 14;

    message Reference {
        string partner_product_id = 1;
        map<string, PartnerProductReferenceTranslations> translations = 2;
    }

    message MarketingInfo {
        StorageObject logo_source = 1;
        map<string, PartnerProductMarketingInfoTranslations> translations = 2;
    }

    enum State {
        STATE_UNSPECIFIED = 0;
        REVIEWING = 1;
        ACTIVE = 2;
        DEPRECATED = 3;
        ERROR = 4;
    }
}

message PartnerProductReferenceTranslations {
    string title = 1;
}

//Public entity representing product
message LocalizedPartnerProduct {
    string id = 1;
    string name = 2;
    string version_id = 3;
    LocalizedPartnerResponse partner = 4;

    google.protobuf.Timestamp created_at = 5;
    google.protobuf.Timestamp updated_at = 6;
    PartnerProduct.State state = 7;

    PartnerProductMarketingInfoTranslations marketing_info = 8;
    repeated string regions = 9;
    repeated string services = 10;
    repeated string use_cases = 11;
    repeated string industries = 12;
}

message PartnerProductMarketingInfoTranslations {
    message PictureWithAltText{
        string logo = 1;
        string alt_text = 2;
    }
    string name = 1;
    string description = 2;
    string short_description = 3;
    repeated LocalizedLink links = 4;
    repeated PictureWithAltText pictures = 5;
    string support = 6;
    string use_cases = 7;
}
