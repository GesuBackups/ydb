syntax = "proto3";

package yandex.cloud.priv.marketplace.v1alpha1;

import "google/protobuf/timestamp.proto";
import "yandex/cloud/priv/marketplace/v1alpha1/os_product_family.proto";
import "yandex/cloud/api/tools/options.proto";

option go_package = "a.yandex-team.ru/cloud/bitbucket/private-api/yandex/cloud/priv/marketplace/v1alpha1;marketplace";

// Product family collection, eg: Windows Server 2012
// Expected to contain several  supported versions: Ubuntu 16 Ubuntu 14
// All version agnostic meta (screnshots reviews marketing info whatever) should be placed here
message OsProduct {
  enum Status {
    STATUS_UNSPECIFIED = 0;
    NEW = 1; //no product versions in active status
    PENDING = 2;
    ACTIVE = 3;
    DEPRECATED = 4;
    REJECTED = 5;
    SUSPENDED = 6;
    ERROR = 7;
  }

  string id = 1;
  google.protobuf.Timestamp created_at = 2;
  google.protobuf.Timestamp updated_at = 3;
  string billing_account_id = 4;
  map<string, string> labels = 5;

  string name = 6;
  string vendor = 7;
  string description = 8;
  string short_description = 9;
  string logo_id = 10; // id of avatar
  string logo_uri = 11;

  Status status = 12;

  // product version that will be displayed on a product page as recommended and default choice
  string primary_family_id = 13;
  repeated string os_product_family_ids = 14;
  repeated OsProductFamily os_product_families = 15;
  float score = 16 [(yandex.cloud.api.tools.field).lint_skip.float_type = true];
  repeated string category_ids = 17;
  map<string, string> meta = 18;
}
