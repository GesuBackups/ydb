syntax = "proto3";

package yandex.cloud.priv.marketplace.v1alpha1;

import "google/api/annotations.proto";

import "yandex/cloud/api/operation.proto";

import "yandex/cloud/priv/marketplace/v1alpha1/sku_draft.proto";
import "yandex/cloud/priv/operation/operation.proto";

option go_package = "a.yandex-team.ru/cloud/bitbucket/private-api/yandex/cloud/priv/marketplace/v1alpha1/private;marketplace";

service PrivateSkuDraftsService {
    rpc GetSkuDraft (SkuDraftPrivateIDRequest) returns (SkuDraft) {
        option (google.api.http) = { get: "/marketplace/v1alpha1/private/skuDrafts/{sku_draft_id}" };
    }
    rpc ListSkuDrafts (SkuDraftPrivateListRequest) returns (SkuDraftPrivateList) {
        option (google.api.http) = { get: "/marketplace/v1alpha1/private/skuDrafts" };
    }
    rpc AcceptSkuDraft (SkuDraftPrivateIDRequest) returns (operation.Operation) {
        option (google.api.http) = { post: "/marketplace/v1alpha1/private/skuDrafts/{sku_draft_id}:accept" body: "*" };
        option (yandex.cloud.api.operation) = {
          metadata: "SkuDraftIDMetadata"
          response: "SkuDraft"
        };
    }
    rpc RejectSkuDraft (SkuDraftPrivateIDRequest) returns (operation.Operation) {
        option (google.api.http) = { post: "/marketplace/v1alpha1/private/skuDrafts/{sku_draft_id}:reject" body: "*" };
        option (yandex.cloud.api.operation) = {
          metadata: "SkuDraftIDMetadata"
          response: "SkuDraft"
        };
    }
}

message SkuDraftPrivateIDRequest {
    string sku_draft_id = 1;
}

message SkuDraftPrivateListRequest {
    int64 page_size = 1;
    string page_token = 2;
    string filter = 3;
    string order_by = 4;
}
message SkuDraftPrivateList {
    string next_page_token = 1;
    repeated SkuDraft sku_drafts = 2;
}

message SkuDraftIDMetadata {
    string sku_draft_id = 1;
}
