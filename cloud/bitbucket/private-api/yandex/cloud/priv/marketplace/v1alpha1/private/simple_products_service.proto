syntax = "proto3";

package yandex.cloud.priv.marketplace.v1alpha1;

import "google/api/annotations.proto";

import "yandex/cloud/api/operation.proto";

import "yandex/cloud/priv/marketplace/v1alpha1/simple_product.proto";
import "yandex/cloud/priv/operation/operation.proto";

option go_package = "a.yandex-team.ru/cloud/bitbucket/private-api/yandex/cloud/priv/marketplace/v1alpha1/private;marketplace";

service PrivateSimpleProductsService {
    rpc GetSimpleProduct (SimpleProductIDPrivateRequest) returns (SimpleProduct) {
        option (google.api.http) = { get: "/marketplace/v1alpha1/private/simpleProducts/{product_id}" };
    }
    rpc ListSimpleProducts (SimpleProductListPrivateRequest) returns (SimpleProductPrivateList) {
        option (google.api.http) = { get: "/marketplace/v1alpha1/private/simpleProducts" };
    }
    rpc CreateSimpleProduct (SimpleProductCreatePrivateRequest) returns (operation.Operation) {
        option (google.api.http) = { post: "/marketplace/v1alpha1/private/simpleProducts" body: "*" };
        option (yandex.cloud.api.operation) = {
          metadata: "SimpleProductIDPrivateMetadata"
          response: "SimpleProduct"
        };
    }
    rpc UpdateSimpleProduct (SimpleProductUpdatePrivateRequest) returns (operation.Operation) {
        option (google.api.http) = { patch: "/marketplace/v1alpha1/private/simpleProducts/{simple_product_id}" body: "*" };
        option (yandex.cloud.api.operation) = {
          metadata: "SimpleProductIDPrivateMetadata"
          response: "SimpleProduct"
        };
    }
    rpc SetOrder (SimpleProductSetOrderPrivateRequest) returns (operation.Operation) {
        option (google.api.http) = { post: "/marketplace/v1alpha1/private/simpleProducts/{simple_product_id}:setOrder" body: "*" };
        option (yandex.cloud.api.operation) = {
          metadata: "SimpleProductIDPrivateMetadata"
          response: "SimpleProduct"
        };
    }
    rpc PutOnPlaceProduct (SimpleProductPutOnPlaceInCategoryPrivateRequest) returns (operation.Operation) {
        option (google.api.http) = { post: "/marketplace/v1alpha1/private/simpleProducts/{simple_product_id}:putOnPlace" body: "*" };
        option (yandex.cloud.api.operation) = {
          metadata: "SimpleProductIDPrivateMetadata"
          response: "SimpleProduct"
        };
    }
    rpc Publish (SimpleProductPublishRequest) returns (operation.Operation) {
        option (google.api.http) = { post: "/marketplace/v1alpha1/private/simpleProducts:publish" body: "*" };
        option (yandex.cloud.api.operation) = {
          metadata: "SimpleProductIDPrivateMetadata"
          response: "SimpleProduct"
        };
    }
}

message SimpleProductIDPrivateRequest {
    string product_id = 1;
}

message SimpleProductListPrivateRequest {
    int64 page_size = 1;
    string page_token = 2;
    string billing_account_id = 3;
    string filter = 4;
    string order_by = 5;
}
message SimpleProductPrivateList {
    string next_page_token = 1;
    repeated SimpleProduct products = 2;
}
message SimpleProductCreatePrivateRequest {
    string billing_account_id = 1;
    map<string, string> labels = 2;
    string vendor = 3;
    string name = 4;
    string description = 5;
    string short_description = 6;
    string logo_id = 7;
    repeated string category_ids = 8;
    message MetaItem {
        string ru = 1;
        string en = 2;
    }
    map<string, MetaItem> meta = 9;
}

message SimpleProductIDPrivateMetadata {
    string simple_product_id = 1;
}
message SimpleProductUpdatePrivateRequest {
    string simple_product_id = 1;
    map<string, string> labels = 2;
    string vendor = 3;
    string name = 4;
    string description = 5;
    string short_description = 6;
    string logo_id = 7;
    repeated string category_ids = 8;
    message MetaItem {
        string ru = 1;
        string en = 2;
    }
    map<string, MetaItem> meta = 9;
}
message SimpleProductSetOrderPrivateRequest {
    string simple_product_id = 1;
    map<string, string> order = 2;
}

message SimpleProductPutOnPlaceInCategoryPrivateRequest {
    string simple_product_id = 1;
    string category_id = 2;
    int64 position = 3;
}

message SimpleProductPublishRequest {
    string product_id = 1;
}
