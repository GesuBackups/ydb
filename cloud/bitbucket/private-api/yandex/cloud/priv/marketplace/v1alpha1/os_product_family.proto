syntax = "proto3";

package yandex.cloud.priv.marketplace.v1alpha1;

import "google/protobuf/timestamp.proto";

import "yandex/cloud/priv/marketplace/v1alpha1/os_product_family_version.proto";
import "yandex/cloud/priv/marketplace/v1alpha1/deprecation.proto";

option go_package = "a.yandex-team.ru/cloud/bitbucket/private-api/yandex/cloud/priv/marketplace/v1alpha1;marketplace";

// Exact product Family eg Windows Server 2012 R2. Contains Family specific meta only
message OsProductFamily {
    
    enum Status {
        STATUS_UNSPECIFIED = 0;
        NEW = 1;
        PENDING = 2;      
        ACTIVE = 3;
        DEPRECATED = 4;
        REJECTED = 5;
        ERROR = 6;
    }

    string id = 1;
    google.protobuf.Timestamp created_at = 2;
    google.protobuf.Timestamp updated_at = 3; //date current state published
    string billing_account_id = 4;
    map<string, string> labels = 5;    
  
    string name = 6; //Family name
    string description = 7; //Family-specific

    Status status = 8;

    string os_product_id = 9; //parent
    
    // Have to return version _always_ as Family meta w/o state is useless
    OsProductFamilyVersion active_version = 10;

    Deprecation deprecation = 11;
    map<string,string> meta = 12;
}
