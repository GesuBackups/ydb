role_groups:
  vdi:
    name: VDI roles

roles:

  vdi.viewer:
    groups: [ vdi ]
    name: VDI Viewer
    visibility: public
    description: ''
    pseudorole: false
    permissions:
      - vdi.desktops.{get,use}
      - vdi.quotas.get
      - vdi.desktopGroups.{get,listAccessBindings}

  vdi.editor:
    groups: [ vdi ]
    name: VDI Editor
    visibility: public
    description: ''
    pseudorole: false
    includedRoles:
      - vdi.viewer
    permissions:
      - vdi.desktops.{create,delete,update,stop,start,restart}
      - vdi.desktopGroups.{create,delete,update}

  vdi.admin:
    groups: [ vdi ]
    name: Администратор VDI
    visibility: public
    description: доступ ко всем функциям VDI
    includedRoles:
      - vdi.editor
    permissions:
      - vdi.desktopGroups.{updateAccessBindings}
      - iam.folders.get
      - resource-manager.folders.get

  internal.vdi.admin:
    groups: [ vdi ]
    name: (Внутренняя) Дополнительные права для облака VDI
    visibility: internal
    description: ''
    permissions:
      - vdi.quotas.{get,updateLimit}

  vdi.support:
    groups: [ vdi, support ]
    name: Support VDI
    visibility: internal
    description: Role for support engineers
    permissions:
      - vdi.desktops.get
      - vdi.quotas.get
      - vdi.desktopGroups.{get,listAccessBindings}

  vdi.supportAdmin:
    groups: [ vdi, support ]
    name: Support VDI Admin
    description: Privileged operations for support engineers
    visibility: internal
    includedRoles:
      - vdi.support
    permissions: []

  vdi.onCall:
    groups: [ vdi ]
    name: OnCall VDI
    visibility: internal
    description: Role for oncall engineers (L3 duty in vdi)
    includedRoles:
      - onCall
      - vdi.support

  vdi.onCallAdmin:
    groups: [ vdi ]
    name: OnCall VDI admin
    visibility: internal
    description: Role for impersoned SA for L3 duty in vdi
    includedRoles:
      - vdi.support
