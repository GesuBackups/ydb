role_groups:
  loadtesting:
    name: Loadtesting roles

roles:
  loadtesting.viewer:
    groups: [loadtesting]
    name: Loadtesting viewer
    visibility: public
    description: роль разрешает просмотр результатов завершенных нагрузочных тестов
    permissions:
    - loadtesting.instances.get
    - loadtesting.generators.get
    - loadtesting.tests.get
    - loadtesting.storages.get

  loadtesting.editor:
    groups: [loadtesting]
    name: Loadtesting editor
    visibility: public
    description: роль разрешает просмотр результатов, создание и удаление агента, разрешает запуск нагрузочных тестов, управление тестом, загрузку запросов, удаление результатов, загрузку данных отстрела
    includedRoles:
    - loadtesting.viewer
    - loadtesting.loadTester
    - loadtesting.generatorClient
    permissions: []

  loadtesting.admin:
    groups: [loadtesting]
    name: Loadtesting admin
    visibility: public
    description: роль разрешает просмотр и удаление результатов, создание и удаление агента
    includedRoles:
    - loadtesting.editor
    permissions: []

  loadtesting.loadTester:
    groups: [loadtesting]
    name: Loadtesting load tester
    visibility: public
    description: роль разрешает запуск нагрузочных тестов, управление тестом, загрузку запросов, удаление результатов
    permissions:
    - loadtesting.tests.{get,create,update,upload,stop,delete}
    - loadtesting.generators.{get,create,delete,restart,start,stop,update}
    - loadtesting.storages.{get,upload,create,delete,update}

  loadtesting.generatorClient:
    groups: [loadtesting]
    name: Loadtesting test runner
    visibility: public
    description: роль разрешает создание и запуск теста на агенте и загрузку данных отстрела в нагрузочный сервис (выдается на СА)
    permissions:
    - loadtesting.tests.{run,pushData,create,update}

  loadtesting.support:
    groups: [loadtesting, support]
    name: Support Loadtesting
    visibility: internal
    description: Role for support engineers
    includedRoles:
    - loadtesting.viewer
    permissions: []

  loadtesting.supportAdmin:
    groups: [loadtesting, support]
    name: Support Loadtesting Admin
    visibility: internal
    description: Role for support engineers
    includedRoles:
    - loadtesting.support
    - loadtesting.editor
    permissions: []

  loadtesting.onCall:
    groups: [loadtesting, staff]
    name: On-call Loadtesting
    visibility: internal
    description: Role for Loadtesting on-call engineers
    includedRoles:
    - onCall
    - loadtesting.viewer

  loadtesting.onCallAdmin:
    groups: [loadtesting, staff]
    name: On-call Loadtesting Admin
    visibility: internal
    description: Role for Loadtesting on-call engineers
    includedRoles:
    - loadtesting.onCall
    - loadtesting.editor
