syntax = "proto3";

package yandex.cloud.priv.vpc.v1.node.local;

import "google/api/annotations.proto";

import "yandex/cloud/api/tools/options.proto";
import "yandex/cloud/priv/vpc/v1/node/local/device.proto";
import "yandex/cloud/priv/vpc/v1/node/common.proto";
import "google/protobuf/empty.proto";

option go_package = "a.yandex-team.ru/cloud/bitbucket/private-api/yandex/cloud/priv/vpc/v1/node/local;local";
option java_outer_classname = "PVNLDS";

service DeviceService {
  // Inner handlers

  rpc Create(DeviceRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {post: "/create-device" body: "*"};
  }

  rpc Delete(DeviceRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {post: "/delete-device" body: "*"};
    option (yandex.cloud.api.tools.method).lint_skip.http_verb = true;
  }

  rpc HealthCheck(google.protobuf.Empty) returns (google.protobuf.Empty) {
    option (google.api.http) = {get: "/health-check"};
    option (yandex.cloud.api.tools.method).lint_skip.http_verb = true;
  }
}

message DeviceRequest {
  PortIdentifier port = 1;
  DeviceData device = 2;
}
