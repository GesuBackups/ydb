syntax = "proto3";

package yandex.cloud.priv.vpc.v1.node;

import "yandex/cloud/priv/validation.proto";
import "yandex/cloud/priv/vpc/v1/node/micro_operation.proto";

option go_package = "a.yandex-team.ru/cloud/bitbucket/private-api/yandex/cloud/priv/vpc/v1/node;node";
option java_outer_classname = "PVNMOS";

// Called by external parties (vpc-api/compute) to get status of operation or 
// to cancel and maybe rollback it
service MicroOperationService {
  // Gets operation status - used in polling loop
  rpc Get(OperationRequest) returns (OperationState);

  // Cancel operation and all its associated micro operations
  rpc Cancel(OperationRequest) returns (OperationState);
}

message OperationRequest {
  // Parent (external) operation in vpc-api or compute
  string operation_id = 1 [(required) = true];
}
