syntax = "proto3";
package yandex.cloud.priv.billing.v1alpha1;

import "google/protobuf/any.proto";

import "yandex/cloud/priv/billing/v1alpha1/person.proto";

option go_package = "a.yandex-team.ru/cloud/bitbucket/private-api/yandex/cloud/priv/billing/v1alpha1;billing";

enum FieldType {
    FIELD_TYPE_UNSPECIFIED = 0;
    FIELD_TYPE_INPUT = 1;
    FIELD_TYPE_OUTPUT = 2;
}

message FieldDescription {
    string id = 1;
    FieldType field_type = 2;
    string title = 3;
}

message ShowForm {
    repeated FieldDescription fields = 1;
}

message Validator {
    string id = 1;
    google.protobuf.Any value = 2;
}

message FieldIdAndValidatorPair {
    string field_id = 1;
    repeated Validator validator = 2;
}

message FieldsSchema {
    repeated FieldIdAndValidatorPair properties = 1;
}

message ValidatorIdAndMessagePair {
    string validator_id = 1;
    string message = 2;
}

message FieldIdAndValidatorsMessagesPair {
    string field_id = 1;
    repeated ValidatorIdAndMessagePair validators_messages = 2;
}

message ErrorMessagesDescription {
    string default_ = 1;
    string required = 2;
    repeated FieldIdAndValidatorsMessagesPair properties = 3;
}

message CreationForm {
    repeated FieldDescription fields = 1;
    FieldsSchema schema = 2;
    ErrorMessagesDescription error_messages = 3;
}

message IdAndFormPair {
    string id = 1;
    oneof form {
        CreationForm creation = 2;
        ShowForm show = 3;
    }
}

message PersonTypeAndCreationFormPair {
    Person.Type person_type = 1;
    CreationForm creation_form = 2;
}

message PersonTypeAndShowFormPair {
    Person.Type person_type = 1;
    ShowForm show_form = 2;
}
