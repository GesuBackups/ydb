syntax = "proto3";

package yandex.cloud.priv.billing.v1alpha1;

import "google/protobuf/timestamp.proto";

import "yandex/cloud/priv/billing/v1alpha1/aggregation_info.proto";
import "yandex/cloud/priv/billing/v1alpha1/filter_info.proto";
import "yandex/cloud/priv/billing/v1alpha1/interval.proto";
import "yandex/cloud/priv/billing/v1alpha1/subaccount_binding.proto";

option go_package = "a.yandex-team.ru/cloud/bitbucket/private-api/yandex/cloud/priv/billing/v1alpha1;billing";

message RewardThreshold {
  string start_amount = 1; // Decimal
  string multiplier = 2; // Decimal
}

message VarIncentive {
  string id = 1;
  string master_account_id = 2;

  google.protobuf.Timestamp effective_time = 3;  // deprecated - replaced by subaccount_bindings
  google.protobuf.Timestamp expiration_time = 4;  // deprecated - replaced by subaccount_bindings

  FilterInfo filter_info = 5;

  AggregationInfo aggregation_info = 6;  // private
  repeated RewardThreshold reward_thresholds = 7;

  google.protobuf.Timestamp created_at = 8;

  repeated Interval default_usage_intervals = 9; // determines if this var_incentive binds to new subaccount by default
  repeated SubaccountBinding subaccount_bindings = 10; // determines if this var_incentive works for subbacount
}
