role_groups:
  ymq:
    name: YMQ roles

roles:
  ymq.viewer:
    groups: [ymq]
    name: Viewer YMQ
    visibility: public
    description: роль разрешает просматривать очереди в YMQ
    permissions:
      - iam.folders.get
      - resource-manager.folders.get
      - ymq.queues.getUrl
      - ymq.queues.list
      - ymq.queues.listDeadLetterSourceQueues
      - ymq.queues.getAttributes
  
  ymq.editor:
    groups: [ymq]
    name: Editor YMQ
    visibility: public
    description: роль разрешает все пользовательские действия в YMQ
    includedRoles:
      - ymq.viewer
      - ymq.writer
      - ymq.reader
      - ymq.manager
  
  ymq.reader:
    groups: [ymq]
    name: Reader YMQ
    visibility: public
    description: роль разрешает читать сообщения в YMQ
    includedRoles:
      - ymq.viewer
    permissions:
      - ymq.messages.changeVisibility
      - ymq.messages.delete
      - ymq.messages.receive
      - ymq.queues.purge
  
  ymq.manager:
    groups: [ymq]
    name: Manager YMQ
    visibility: public
    description: роль разрешает изменять и создавать очереди в YMQ
    includedRoles:
      - ymq.viewer
    permissions:
      - ymq.queues.create
      - ymq.queues.delete
      - ymq.queues.setAttributes 
  
  ymq.writer:
    groups: [ymq]
    name: Writer YMQ
    visibility: public
    description: роль разрешает писать сообщения в YMQ
    includedRoles:
      - ymq.viewer
    permissions:
      - ymq.messages.send
      - ymq.queues.create

  ymq.admin:
    groups: [ymq]
    name: Администратор YMQ
    visibility: public
    description: роль разрешает все действия в YMQ
    includedRoles:
      - ymq.editor
  
  ymq.viewer.pseudo:
    groups: [ymq]
    name: ''
    description: ''
    visibility: public
    pseudorole: true
    permissions:
      - ymq.queues.getAttributes
      - ymq.queues.getUrl
      - ymq.queues.list
      - ymq.queues.listDeadLetterSourceQueues

  ymq.support:
    groups: [ymq, support]
    name: Support Yandex Message Queue (YMQ)
    description: Role for support engineers
    visibility: internal
    includedRoles:
      - ymq.viewer.pseudo
    permissions: []

  ymq.supportAdmin:
    groups: [ymq, support]
    name: Support Yandex Message Queue (YMQ) Admin
    description: Privileged operations for support engineers
    visibility: internal
    includedRoles:
      - ymq.support
    permissions: []

  ymq.onCall:
    groups: [ymq]
    name: OnCall  Yandex Message Queue (YMQ)
    description: Role for OnCall engineers
    visibility: internal
    includedRoles:
      - onCall
      - ymq.viewer
    permissions: []

  ymq.onCallAdmin:
    groups: [ymq]
    name: OnCallAdmin Yandex Message Queue (YMQ)
    description: Role for OnCallAdmin engineers
    visibility: internal
    includedRoles:
      - ymq.onCall
      - ymq.admin
    permissions: []

