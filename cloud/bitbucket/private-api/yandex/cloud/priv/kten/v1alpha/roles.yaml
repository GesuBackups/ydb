role_groups:
  uk8s:
    name: Underlay K8S roles

roles:
  uk8s.cluster.viewer:
    groups: [uk8s]
    name: uk8s cluster viewer
    resourceType: uk8s.cluster
    visibility: internal
    description: ''
    permissions:
      - uk8s.clusters.get
      - uk8s.{clusters,namespaces}.listAccessBindings
      - uk8s.nodes.get
      - uk8s.pods.get
      - uk8s.configmaps.get
      - uk8s.roles.get
      - uk8s.rolebindings.get
      - uk8s.certificatesigningrequests.get
      - uk8s.csidrivers.get
      - uk8s.csinodes.get
      - uk8s.endpoints.get
      - uk8s.events.get
      - uk8s.leases.get
      - uk8s.localsubjectaccessreviews.get
      - uk8s.persistentvolumeclaims.get
      - uk8s.persistentvolumes.get
      - uk8s.runtimeclasses.get
      - uk8s.secrets.get
      - uk8s.serviceaccounts.get
      - uk8s.services.get
      - uk8s.subjectaccessreviews.get
      - uk8s.tokenreviews.get
      - uk8s.volumeattachments.get
      - uk8s.namespaces.get
      - uk8s.resource.get

  uk8s.cluster.admin:
    groups: [uk8s]
    name: uk8s cluster admin
    resourceType: uk8s.cluster
    visibility: internal
    description: ''
    includedRoles:
      - uk8s.cluster.viewer
    permissions:
      - uk8s.clusters.{create,update,delete}
      - uk8s.{clusters,namespaces}.updateAccessBindings
      - uk8s.nodes.{create,update,delete,use}
      - uk8s.pods.{create,update,delete,use}
      - uk8s.configmaps.{create,update,delete,use}
      - uk8s.roles.{create,update,delete,use}
      - uk8s.rolebindings.{create,update,delete,use}
      - uk8s.certificatesigningrequests.{create,update,delete,use}
      - uk8s.csidrivers.{create,update,delete,use}
      - uk8s.csinodes.{create,update,delete,use}
      - uk8s.endpoints.{create,update,delete,use}
      - uk8s.events.{create,update,delete,use}
      - uk8s.leases.{create,update,delete,use}
      - uk8s.localsubjectaccessreviews.{create,update,delete,use}
      - uk8s.persistentvolumeclaims.{create,update,delete,use}
      - uk8s.persistentvolumes.{create,update,delete,use}
      - uk8s.runtimeclasses.{create,update,delete,use}
      - uk8s.secrets.{create,update,delete,use}
      - uk8s.serviceaccounts.{create,update,delete,use}
      - uk8s.services.{create,update,delete,use}
      - uk8s.subjectaccessreviews.{create,update,delete,use}
      - uk8s.tokenreviews.{create,update,delete,use}
      - uk8s.volumeattachments.{create,update,delete,use}
      - uk8s.namespaces.{create,update,delete,use}
      - uk8s.resource.{create,update,delete,use}

  uk8s.node.viewer:
    groups: [uk8s]
    name: uk8s node viewer
    resourceType: uk8s.cluster
    visibility: internal
    description: ''
    permissions:
      - uk8s.nodes.get
      - uk8s.clusters.get
      - uk8s.namespaces.get

  uk8s.kubelet:
    groups: [uk8s]
    name: uk8s kubelet
    resourceType: uk8s.cluster
    visibility: internal
    description: ''
    permissions:
      - uk8s.certificatesigningrequests.{create,get}
      - uk8s.configmaps.{get}
      - uk8s.csidrivers.{get}
      - uk8s.csinodes.{create,get,delete,update}
      - uk8s.endpoints.{get}
      - uk8s.events.{create,update}
      - uk8s.leases.{create,get,delete,update}
      - uk8s.localsubjectaccessreviews.{create}
      - uk8s.nodes.{create,get,delete,update,use}
      - uk8s.persistentvolumeclaims.{get,use}
      - uk8s.persistentvolumes.{get}
      - uk8s.pods.{create,update,get,delete,use}
      - uk8s.runtimeclasses.{get}
      - uk8s.secrets.{get}
      - uk8s.serviceaccounts.{create,get,use}
      - uk8s.services.{get}
      - uk8s.subjectaccessreviews.{create}
      - uk8s.tokenreviews.{create}
      - uk8s.volumeattachments.{get}
      - uk8s.namespaces.{get}

  uk8s.editor:
    groups: [uk8s]
    name: uk8s editor
    resourceType: uk8s.namespace
    visibility: internal
    description: ''
    permissions:
      - uk8s.clusters.get
      - uk8s.{clusters,namespaces}.listAccessBindings
      - uk8s.nodes.{get,use}
      - uk8s.pods.{create,update,delete,get,use}
      - uk8s.configmaps.{create,update,delete,get,use}
      - uk8s.roles.{create,update,delete,get,use}
      - uk8s.rolebindings.{create,update,delete,get,use}
      - uk8s.certificatesigningrequests.{create,update,delete,get,use}
      - uk8s.csidrivers.{create,update,delete,get,use}
      - uk8s.csinodes.{create,update,delete,get,use}
      - uk8s.endpoints.{create,update,delete,get,use}
      - uk8s.events.{create,update,delete,get,use}
      - uk8s.leases.{create,update,delete,get,use}
      - uk8s.localsubjectaccessreviews.{create,update,delete,get,use}
      - uk8s.persistentvolumeclaims.{create,update,delete,get,use}
      - uk8s.persistentvolumes.{create,update,delete,get,use}
      - uk8s.runtimeclasses.{create,update,delete,get,use}
      - uk8s.secrets.{create,update,delete,get,use}
      - uk8s.serviceaccounts.{create,update,delete,get,use}
      - uk8s.services.{create,update,delete,get,use}
      - uk8s.subjectaccessreviews.{create,update,delete,get,use}
      - uk8s.tokenreviews.{create,update,delete,get,use}
      - uk8s.volumeattachments.{create,update,delete,get,use}
      - uk8s.namespaces.{create,update,delete,get,use}
      - uk8s.resource.{create,update,delete,get,use}

  internal.kten.sync:
    groups: [uk8s]
    name: kten sync
    description: Role for the service for syncing clusters and resources with external systems
    visibility: internal
    permissions:
      - uk8s.namespaces.updateAccessBindings
      - uk8s.namespaces.listAccessBindings
      - uk8s.namespaces.get
      - uk8s.clusters.updateAccessBindings
      - uk8s.clusters.listAccessBindings
      - uk8s.clusters.get
