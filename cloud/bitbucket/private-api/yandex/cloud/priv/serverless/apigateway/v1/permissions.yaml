permissions:
  serverless.apiGateways.get:
    description: ''
    stage: GA
    visibility: public
    allowedWhen:
      restrictions:
        - billSuspend
        - fraud
        - deletingContainer
      cloud:
        status:
          - ACTIVE
          - BLOCKED_BY_BILLING
          - DELETING
  serverless.apiGateways.list:
    description: ''
    stage: GA
    visibility: public
    allowedWhen:
      restrictions:
        - billSuspend
        - fraud
        - deletingContainer
      cloud:
        status:
          - ACTIVE
          - BLOCKED_BY_BILLING
          - DELETING
  serverless.apiGateways.create:
    description: ''
    stage: GA
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE
  serverless.apiGateways.update:
    description: ''
    stage: GA
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE
  serverless.apiGateways.delete:
    description: ''
    stage: GA
    visibility: public
    allowedWhen:
      restrictions:
        - billSuspend
        - fraud
        - deletingContainer
      cloud:
        status:
          - ACTIVE
          - BLOCKED_BY_BILLING
          - DELETING
  serverless.apiGateways.listAccessBindings:
    description: ''
    stage: GA
    visibility: public
    allowedWhen:
      restrictions:
        - billSuspend
        - fraud
        - deletingContainer
      cloud:
        status:
          - ACTIVE
          - BLOCKED_BY_BILLING
          - DELETING
  serverless.apiGateways.updateAccessBindings:
    description: ''
    stage: GA
    visibility: public
    allowedWhen:
      restrictions:
        - billSuspend
      cloud:
        status:
          - ACTIVE
          - BLOCKED_BY_BILLING
  serverless.apiGateways.useNetwork:
    description: ''
    stage: SERVERLESS_VPC
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  # public permission for websocket technical preview
  api-gateway.gateways.createWithWebsockets:
    description: ''
    stage: SERVERLESS_APIGW_WEBSOCKETS_ALPHA
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE
  # public websocket permissions for calling Websocket Connections API
  api-gateway.websockets.get:
    description: ''
    stage: SERVERLESS_APIGW_WEBSOCKETS_ALPHA
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE
  api-gateway.websockets.send:
    description: ''
    stage: SERVERLESS_APIGW_WEBSOCKETS_ALPHA
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE
  api-gateway.websockets.disconnect:
    description: ''
    stage: SERVERLESS_APIGW_WEBSOCKETS_ALPHA
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  # internal permissions for managing real websocket connections in function-router(used by Websocket Connections API)
  api-gateway.websockets.internalConnect:
    description: ''
    stage: GA
    visibility: internal
  api-gateway.websockets.internalGet:
    description: ''
    stage: GA
    visibility: internal
  api-gateway.websockets.internalSend:
    description: ''
    stage: GA
    visibility: internal
  api-gateway.websockets.internalDisconnect:
    description: ''
    stage: GA
    visibility: internal

  # internal permissions for managing websocket connections in Websocket Connections API(used by function-router)
  api-gateway.websockets.createConnection:
    description: ''
    stage: GA
    visibility: internal
  api-gateway.websockets.getConnection:
    description: ''
    stage: GA
    visibility: internal
  api-gateway.websockets.updateConnection:
    description: ''
    stage: GA
    visibility: internal
  api-gateway.websockets.deleteConnection:
    description: ''
    stage: GA
    visibility: internal
