syntax = "proto3";

package yandex.cloud.priv.cic.v1.inner.service;

import "yandex/cloud/priv/cic/v1/inner/inventory/transceiver_type.proto";
import "yandex/cloud/priv/cic/v1/inner/inventory/l2_ext_params.proto";
import "yandex/cloud/priv/cic/v1/inner/inventory/lag_allocation_settings.proto";

option go_package = "a.yandex-team.ru/cloud/bitbucket/private-api/yandex/cloud/priv/cic/v1/inner/service;cic";
option java_outer_classname = "CICTC";

message TrunkConnection {

  string id = 1;
  string name = 2;
  string description = 3;
  string cloud_id = 4;
  string folder_id = 5;
  string region_id = 6;
  int64 bandwidth_mbps = 7;
  oneof optional_bandwidth_pps {
    int64 bandwidth_pps = 8;
  }

  oneof joint {
    SinglePortDirectJoint single_port_direct_joint = 9;
    LagDirectJoint lag_direct_joint = 10;
    PartnerJointInfo partner_joint_info = 11;
  }
  string point_of_presence_id = 12;

  oneof topology_specific {
    inventory.L2ExtParams l2ext = 21;
  }

  message PartnerJointInfo {
    string partner_joint_id = 1;
    oneof optional_vlan_id {
      int64 partner_vlan_id = 2;
    }
    // The field contains the mirroring partner API trunk_id
    string service_key = 3;
  }

  message SinglePortDirectJoint {
    inventory.TransceiverType transceiver_type = 1;
    string cluster_id = 2;
    oneof optional_port_name {
      string port_name = 3;
    }
    string access_device_name = 4;
  }

  message LagDirectJoint {
    inventory.TransceiverType transceiver_type = 1;
    string cluster_id = 2;
    inventory.LagAllocationSettings lag_allocation_settings = 3;
    string access_device_name = 4;
  }

  string customer_name = 99;

}
