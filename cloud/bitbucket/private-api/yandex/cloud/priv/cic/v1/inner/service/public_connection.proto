syntax = "proto3";

package yandex.cloud.priv.cic.v1.inner.service;

option go_package = "a.yandex-team.ru/cloud/bitbucket/private-api/yandex/cloud/priv/cic/v1/inner/service;cic";
option java_outer_classname = "CICPUC";

import "yandex/cloud/priv/cic/v1/inner/service/peering.proto";
import "yandex/cloud/priv/cic/v1/inner/service/debug.proto";

message PublicConnection {

    string id = 1;
    string name = 2;
    string description = 3;
    string cloud_id = 4;
    string folder_id = 5;
    string region_id = 6;
    string trunk_connection_id = 7;
    // Not used in connections over partners-II
    oneof optional_vlan_id {
        int64 vlan_id = 8;
    }

    Peering ipv4_peering = 9;
    Peering ipv6_peering = 10;

    repeated YandexCloudServiceType ipv4_allowed_service_types = 11;
    repeated YandexCloudServiceType ipv6_allowed_service_types = 12;

    repeated string ipv4_peer_announced_prefixes = 13;
    repeated string ipv6_peer_announced_prefixes = 14;

    oneof optional_subinterface {
        int64 subinterface = 15;
    }

    DebugAcl ipv4_debug_acl = 16;
    DebugAcl ipv6_debug_acl = 17;

    enum YandexCloudServiceType {
        YANDEX_CLOUD_SERVICE_TYPE_UNSPECIFIED = 0;
        YANDEX_CLOUD_SERVICE_YANDEX = 1;
        YANDEX_CLOUD_SERVICE_YANDEX_CLOUD = 2;
        YANDEX_CLOUD_SERVICE_S3 = 3;
        YANDEX_CLOUD_SERVICE_ML = 4;
        YANDEX_CLOUD_SERVICE_APIGW = 5;
    }

    string customer_name = 99;
}
