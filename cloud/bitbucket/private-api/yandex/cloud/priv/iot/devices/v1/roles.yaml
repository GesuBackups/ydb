role_groups:
  iot:
    name: IoT roles

roles:
  iot.admin:
    groups: [iot]
    name: 'IoT admin'
    visibility: public
    description: 'Роль для администрирования IoT'
    includedRoles:
      - iot.editor

  iot.editor:
    groups: [iot]
    name: 'IoT editor'
    visibility: public
    description: 'Роль для редактирование IoT'
    includedRoles:
      - iot.viewer
    permissions:
      - iot.deviceRegistries.{create,delete,update}
      - iot.brokers.{create,delete,update}
      - iot.devices.{create,delete,update}
      - iot.data.devices.write
      - iot.data.registries.write

  iot.viewer:
    groups: [iot]
    name: 'IoT viewer'
    visibility: public
    description: 'Роль для просмотра IoT'
    permissions:
      - iot.deviceRegistries.{get,list}
      - iot.brokers.get
      - iot.devices.{get,list}
      - iot.data.devices.read
      - iot.data.registries.read
      - iot.quotas.get

  internal.iotadmin:
    groups: [iot]
    name: (Внутренняя) IOT
    visibility: internal
    description: ''
    permissions:
    - iot.subscriptions.subscribe
    - iot.mqtt.auth
    - iot.quotas.get
    - iot.quotas.updateLimit

  iot.registries.writer:
    groups: [iot]
    name: Роль для отправки сообщений в IoT Core от лица реестра
    visibility: public
    description: ''
    permissions:
    - iot.data.registries.write

  iot.devices.writer:
    groups: [iot]
    name: Роль для отправки сообщений в IoT Core от лица устройства
    visibility: public
    description: ''
    permissions:
    - iot.data.devices.write

  iot.support:
    groups: [iot, support]
    name: Support Iot
    description: Role for support engineers
    visibility: internal
    permissions:
      - iot.deviceRegistries.{get,list}
      - iot.brokers.get
      - iot.devices.{get,list}
      - iot.data.devices.read
      - iot.data.registries.read
      - iot.quotas.get
      - iot.quotas.updateLimit

  iot.supportAdmin:
    groups: [iot, support]
    name: Support Iot Admin
    description: Privileged operations for support engineers
    visibility: internal
    includedRoles:
      - iot.support
    permissions: []

  iot.onCall:
    groups: [ iot, staff ]
    name:        'OnCall IoT'
    visibility:  internal
    description: IoT on-call duty role
    includedRoles:
      - iot.viewer
    permissions: []

  iot.onCallAdmin:
    groups: [ iot, staff ]
    name:        'OnCallAdmin IoT'
    visibility:  internal
    description: IoT on-call duty role with extended (modifying) permissions
    includedRoles:
      - iot.onCall
      - iot.admin

