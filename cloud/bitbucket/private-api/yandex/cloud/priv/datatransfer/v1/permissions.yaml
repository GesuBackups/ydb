permissions:
  data-transfer.transfers.get:
    description: 'Get permission for data transfer'
    visibility: public
    stage: GA
    allowedWhen:
      restrictions:
        - billSuspend
        - fraud
        - deletingContainer
      cloud:
        status:
          - ACTIVE
          - BLOCKED_BY_BILLING
          - DELETING

  data-transfer.transfers.create:
    description: 'Get permission for data transfer'
    visibility: public
    stage: GA
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.transfers.update:
    description: 'Get permission for data transfer'
    visibility: public
    stage: GA
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.transfers.delete:
    description: 'Get permission for data transfer'
    visibility: public
    stage: GA
    allowedWhen:
      restrictions:
        - billSuspend
        - fraud
        - deletingContainer
      cloud:
        status:
          - ACTIVE
          - BLOCKED_BY_BILLING
          - DELETING

  data-transfer.transfers.use:
    description: 'Get permission for data transfer'
    visibility: public
    stage: GA
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.transfers.createExternal:
    description: 'Create permission for data transfer between public networks'
    visibility: public
    stage: GA
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.get:
    description: 'Get permission for data transfer'
    visibility: public
    stage: GA
    allowedWhen:
      restrictions:
        - billSuspend
        - fraud
        - deletingContainer
      cloud:
        status:
          - ACTIVE
          - BLOCKED_BY_BILLING
          - DELETING

  data-transfer.endpoints.create:
    description: 'Get permission for data transfer'
    visibility: public
    stage: GA
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.update:
    description: 'Get permission for data transfer'
    visibility: public
    stage: GA
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.delete:
    description: 'Get permission for data transfer'
    visibility: public
    stage: GA
    allowedWhen:
      restrictions:
        - billSuspend
        - fraud
        - deletingContainer
      cloud:
        status:
          - ACTIVE
          - BLOCKED_BY_BILLING
          - DELETING

  data-transfer.quotas.get:
    description: 'Get permission for data transfer quotas'
    visibility: public
    stage: GA
    allowedWhen:
      restrictions:
        - billSuspend
        - fraud
        - deletingContainer
      cloud:
        status:
          - ACTIVE
          - BLOCKED_BY_BILLING
          - DELETING

  data-transfer.quotas.update:
    description: 'Update permission for data transfer quotas'
    visibility: internal
    stage: GA
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.allow.logbroker:
    description: 'Create permission for logbroker data transfer'
    stage: DATA_TRANSFER_LOGBROKER
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.allow.logfeller:
    description: 'Create permission for logfeller data transfer'
    stage: DATA_TRANSFER_LOGFELLER
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.allow.mongodb:
    description: 'Create permission for mongodb data transfer'
    stage: DATA_TRANSFER_MONGODB
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.allow.clickhouse:
    description: 'Create permission for clickhouse data transfer'
    stage: DATA_TRANSFER_CLICKHOUSE
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.allow.ydb:
    description: 'Create permission for ydb data transfer'
    stage: DATA_TRANSFER_YDB
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.allow.yds:
    description: 'Create permission for yds data transfer'
    stage: DATA_TRANSFER_YDS
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.allow.object-storage:
    description: 'Create permission for object storage data transfer'
    stage: DATA_TRANSFER_OBJECT_STORAGE
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.allow.kafka:
    description: 'Create permission for kafka data transfer'
    stage: DATA_TRANSFER_KAFKA
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.allow.oracle:
    description: 'Create permission for oracle data transfer'
    stage: DATA_TRANSFER_ORACLE
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.allow.postgresql-to-ydb:
    description: 'Create permission for postgresql to ydb data transfer'
    stage: DATA_TRANSFER_POSTGRESQL_TO_YDB
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.allow.mysql-to-ydb:
    description: 'Create permission for mysql to ydb data transfer'
    stage: DATA_TRANSFER_MYSQL_TO_YDB
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.allow.postgresql-to-object-storage:
    description: 'Create permission for postgresql to object storage data transfer'
    stage: DATA_TRANSFER_POSTGRESQL_TO_OBJECT_STORAGE
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.allow.mysql-to-object-storage:
    description: 'Create permission for mysql to object storage data transfer'
    stage: DATA_TRANSFER_MYSQL_TO_OBJECT_STORAGE
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.allow.mongo-to-object-storage:
    description: 'Create permission for mongo to object storage data transfer'
    stage: DATA_TRANSFER_MONGO_TO_OBJECT_STORAGE
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.allow.oracle-to-postgresql:
    description: 'Create permission for oracle to postgresql data transfer'
    stage: DATA_TRANSFER_ORACLE_TO_POSTGRESQL
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.allow.oracle-to-clickhouse:
    description: 'Create permission for oracle to clickhouse data transfer'
    stage: DATA_TRANSFER_ORACLE_TO_CLICKHOUSE
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.allow.yc-from-logbroker:
    description: 'Create permission for data transfers from logbroker to yandex cloud prod, used only in yandex itself'
    stage: DATA_TRANSFER_YC_FROM_LOGBROKER
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.allow.yc-to-logbroker:
    description: 'Create permission for data transfers from yandex cloud prod to logbroker, used only in yandex itself'
    stage: DATA_TRANSFER_YC_TO_LOGBROKER
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.allow.airbyte:
    description: 'Create permission for data transfers with airbyte-driven connectors'
    stage: DATA_TRANSFER_AIRBYTE
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.allow.greenplum:
    description: 'Create permission for Greenplum endpoints in Data Transfer'
    stage: DATA_TRANSFER_GREENPLUM
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE

  data-transfer.endpoints.allow.debezium:
    description: 'Create permission for queues with Debezium format in Data Transfer'
    stage: DATA_TRANSFER_DEBEZIUM
    visibility: public
    allowedWhen:
      cloud:
        status:
          - ACTIVE
