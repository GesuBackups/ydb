role_groups:
  logging:
    name: Logging roles

roles:

  internal.logging.groups.agent:
    groups:
    - logging
    name:        (Внутренняя) Агент Log Groups
    visibility:  internal
    description: Роль для автоматического создания/удаления лог-групп
    permissions:
    - logging.groups.get
    - logging.groups.{create,delete}
    - logging.groups.{createDefault,deleteDefault}
    - resource-manager.folders.get
    - resource-manager.clouds.get
    - logging.quotas.getCloudValue

  internal.logging.client:
    groups:
    - logging
    name:        (Внутренняя) Клиент Log Groups
    visibility:  internal
    description: Роль для сервисов, объекты которых зависят от лог-групп
    permissions:
    - logging.groups.get
    - logging.groups.updateReferences

  internal.logging.supplier:
    groups:
    - logging
    name:        (Внутренняя) Поставщик логов
    visibility:  internal
    description: Роль для сервисов, которые поставляют логи
    permissions:
    - logging.records.write

  logging.viewer:
    groups:
    - logging
    name:        ''
    visibility:  public
    description: ''
    permissions:
    - logging.groups.get
    - logging.resources.listAccessBindings
    - resource-manager.folders.get
    - resource-manager.clouds.get
    # deprecated
    - logs.logGroups.{get,list}

  logging.editor:
    groups:
    - logging
    name:        ''
    visibility:  public
    description: ''
    permissions:
    - logging.groups.{create,delete,update}
    # deprecated
    - logs.logGroups.{create,delete,update}
    includedRoles:
    - logging.viewer

  logging.reader:
    groups:
    - logging
    name:        ''
    visibility:  public
    description: ''
    permissions:
    - logging.records.read
    includedRoles:
    - logging.viewer

  logging.writer:
    groups:
    - logging
    name:        ''
    visibility:  public
    description: ''
    permissions:
    - logging.records.write
    includedRoles:
    - logging.viewer

  logging.admin:
    groups:
    - logging
    name:        ''
    visibility:  public
    description: ''
    permissions:
    - logging.resources.setAccessBindings
    - logging.quotas.getCloudValue
    - logging.groups.updateReferences

    includedRoles:
    - logging.editor
    - logging.reader
    - logging.writer

  logging.support:
    groups:
    - logging
    - support
    name:        Support Logging
    description: Role for support engineers
    visibility:  internal
    permissions:
    - logging.groups.get
    - logging.quotas.getCloudValue
    - logging.quotas.setCloudLimit

  logging.supportAdmin:
    groups:
    - logging
    - support
    name:        Support Logging Admin
    description: Privileged operations for support engineers
    visibility:  internal
    includedRoles:
    - logging.support
    permissions:
    - logging.groups.{create,delete,update}

  logging.onCall:
    groups:
    - logging
    - staff
    name:        On-call Logging
    visibility:  internal
    description: Role for logging on-call engineers
    includedRoles:
    - onCall
    - logging.viewer
    permissions:
    - logging.resources.listAccessBindings
    - logging.quotas.getCloudValue
    - logging.quotas.setCloudLimit

  logging.onCallAdmin:
    groups:
    - logging
    - staff
    name:        On-call Logging Admin
    visibility:  internal
    description: Privileged Operations on logging for on-call engineers
    includedRoles:
    - logging.onCall
    - logging.editor
    permissions: []

  internal.logging.resourcereaper:
    groups:
      - logging
    name:        (Внутренняя) Log Groups Resource Reaper
    visibility:  internal
    description: Роль для удаления лог-групп для Resource Reaper
    permissions:
      - logging.groups.get
      - logging.groups.delete
      - logging.groups.deleteDefault
