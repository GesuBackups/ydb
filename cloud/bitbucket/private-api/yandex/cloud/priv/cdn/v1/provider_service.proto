syntax = "proto3";

package yandex.cloud.priv.cdn.v1;

import "yandex/cloud/api/operation.proto";
import "yandex/cloud/priv/operation/operation.proto";
import "yandex/cloud/priv/validation.proto";

option go_package = "a.yandex-team.ru/cloud/bitbucket/private-api/yandex/cloud/priv/cdn/v1;cdn";
option java_outer_classname = "PPRVS";

service ProviderService {
  // Activate provider for specified client.
  rpc Activate(ActivateProviderRequest)  returns (operation.Operation) {
    option (yandex.cloud.api.operation) = {
      metadata: "ActivateProviderMetadata"
      response: "google.protobuf.Empty"
    };
  }

  // List activated providers for specified client.
  rpc ListActivated(ListActivatedProvidersRequest)  returns (ListActivatedProvidersResponse);
}

message ActivateProviderRequest {
  // Activate provider for Folder iD.
  string folder_id = 1 [(required) = true, (length) = "<=50"];
  // Specify provider brand/type.
  string provider_type = 2 [(required) = true, (length) = "<=50"];
}

message ActivateProviderMetadata {
  // Activate provider for Folder iD.
  string folder_id = 1 [(required) = true, (length) = "<=50"];
}

message ListActivatedProvidersRequest {
  string folder_id = 1 [(required) = true, (length) = "<=50"];
}

message ListActivatedProvidersResponse {
  repeated string providers = 1;
}
