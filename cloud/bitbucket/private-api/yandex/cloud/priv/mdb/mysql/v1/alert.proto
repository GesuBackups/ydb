syntax = "proto3";

package yandex.cloud.priv.mdb.mysql.v1;

option go_package = "a.yandex-team.ru/cloud/bitbucket/private-api/yandex/cloud/priv/mdb/mysql/v1;mysql";
option java_outer_classname = "PMA";


enum Condition {
    CONDITION_UNSPECIFIED = 0;

    // Equal the specified value.
    CONDITION_EQ = 1;

    // Not equal the specified value.
    CONDITION_NE = 2;

    // Greater than the specified value.
    CONDITION_GT = 3;

    // Less than the specified value.
    CONDITION_LT = 4;

    // Greater than or equal to the specified value.
    CONDITION_GTE = 5;

    // Less than or equal to the specified value.
    CONDITION_LTE = 6;
}

message Alert {
    string metric = 1; // I.e. free space, cpu usage, replication lag, log errors, p99 transaction time, etc.
    double critical_threshold = 2;
    double warning_threshold = 3;
    Condition condition = 4;
}

message AlertGroup {
    string alert_group_id = 1;
    string cluster_id = 2;
    repeated Alert alerts = 3;
    // In case of internal MDB we should put solomon project_id here
    string monitoring_folder_id = 4;
    repeated string notification_channels = 5;
    bool disabled = 6;
}
