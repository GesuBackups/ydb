import "zora/util/proto/types.proto";
import "yweb/robot/gen_act/core/proto/dest_id.proto";
import "zora/zora/proto/fetch.proto";
import "zora/zora/proto/js.proto";

package NJs;

//new rotor internal format. TODO: implement inside rotor
message TRotorRequest {
    optional string                 SourceName      = 1;
    optional NZUtilPb.TInstant      TimeoutDeadline = 2;

    // document fetch options
    optional NZoraPb.TFetchOpts     FetchOpts       = 10;
    // use already fetched doc
    optional NZoraPb.TFetchResult   FetchResult     = 11;

    optional NZoraPb.TJsOpts        JsOpts          = 20;

    optional NProtoGenericActors.TDestination Destination = 30;

    extensions 900 to 999; // for rotor internal use
}

message TRotorResponse {
    optional TRotorRequest      Request         = 1;

    optional NZoraPb.TJsResult  JsResult        = 2;
}

