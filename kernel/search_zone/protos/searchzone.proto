syntax = "proto2";

package NRTYServer;

option java_package = "ru.yandex.search.saas";
option java_outer_classname = "SearchZone";

import "mapreduce/yt/interface/protos/extension.proto";

message TAttribute {
    option (NYT.message_flags) = DEPRECATED_SORT_FIELDS_AS_IN_PROTO_FILE;


    /*
        Имя атрибута
    */
    required string Name = 1;

    /*
        Тип атрибута
    */
    enum TAttributeType {

    /*
        Литеральный атрибут.
    */
        LITERAL_ATTRIBUTE = 0;

    /*
        Целочисленный атрибут.
        Использование целочисленного типа вместо литерального позволяет уменьшить объем индекса только в случае использования группировочного атрибута.
    */
         INTEGER_ATTRIBUTE = 1;

    /*
        Float атрибут.
        Использование возможно только для факторов.
    */
         FLOAT_ATTRIBUTE = 2;
    }

    /*
        Тип атрибута
    */
    required TAttributeType Type = 3;

    /*
        Значение атрибута.
        В случае использования типа атрибута INTEGER_ATTRIBUTE следует задавать десятичное строковое значение.
        Целочисленное значение должно принадлежать отрезку [0, (1 << 64) - 1]
     */
    required string Value = 2;
}

message TZone {
    optional string Name = 1;
    repeated TZone Children = 2;
    repeated TAttribute SearchAttributes = 3;
    optional string Text = 4;
}
